# Cloudflare ç½‘é¡µç‰ˆéƒ¨ç½²å›¾è§£

é€šè¿‡æˆªå›¾å’Œæ­¥éª¤è¯´æ˜ï¼Œå¸®åŠ©ä½ å¯è§†åŒ–åœ°å®Œæˆéƒ¨ç½²ã€‚

## ğŸ“‹ éƒ¨ç½²æ¶æ„å›¾

```
GitHub ä»“åº“ (dreameutopia/Memorize-vocabulary)
    â†“
    â†“ (è‡ªåŠ¨åŒæ­¥)
    â†“
Cloudflare Pages (Worker)
    â†“
    â†“ (ç»‘å®š)
    â†“
Cloudflare D1 Database (cet6_vocabulary)
    â”œâ”€â”€ users è¡¨
    â”œâ”€â”€ vocabulary è¡¨ (5523ä¸ªå•è¯)
    â””â”€â”€ unknown_words è¡¨
    â†“
    â†“
ç”¨æˆ·è¯·æ±‚ â†’ API å“åº”
```

---

## ç¬¬ä¸€æ­¥ï¼šåˆ›å»º D1 æ•°æ®åº“

### 1.1 è¿›å…¥ D1 ç®¡ç†é¡µé¢

```
Cloudflare Dashboard
  â””â”€â”€ å·¦ä¾§èœå•
      â””â”€â”€ Workers & Pages
          â””â”€â”€ D1 SQL Database
              â””â”€â”€ [Create database] æŒ‰é’®
```

**æˆªå›¾ä½ç½®**ï¼š
- URL: `https://dash.cloudflare.com/`
- è·¯å¾„: Workers & Pages â†’ Overview â†’ D1

### 1.2 åˆ›å»ºæ•°æ®åº“è¡¨å•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create a database                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Database name *                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ cet6_vocabulary             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  Location                           â”‚
â”‚  â—‹ Automatic (recommended)          â”‚
â”‚  â—‹ Western North America            â”‚
â”‚  â—‹ Eastern North America            â”‚
â”‚  â—‹ Western Europe                   â”‚
â”‚  â—‹ Eastern Europe                   â”‚
â”‚                                     â”‚
â”‚  [Cancel]  [Create]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¡«å†™å†…å®¹**ï¼š
- Database name: `cet6_vocabulary`
- Location: é€‰æ‹© `Automatic`

### 1.3 æ•°æ®åº“åˆ›å»ºæˆåŠŸ

åˆ›å»ºåä¼šæ˜¾ç¤ºæ•°æ®åº“è¯¦æƒ…é¡µï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ cet6_vocabulary                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Database ID: a1b2c3d4-e5f6-7890-abcd-ef123 â”‚  â† å¤åˆ¶è¿™ä¸ªï¼
â”‚ Created: 2025-10-27                        â”‚
â”‚ Size: 0 MB                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Console] [Tables] [Settings]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é‡è¦**ï¼šå¤åˆ¶ `Database ID` å¹¶ä¿å­˜ï¼

---

## ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–è¡¨ç»“æ„

### 2.1 æ‰“å¼€æ•°æ®åº“æ§åˆ¶å°

ç‚¹å‡» **Console** æ ‡ç­¾ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Console] [Tables] [Settings]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  SQL Editor                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ -- Enter your SQL query here       â”‚   â”‚
â”‚  â”‚ SELECT * FROM ...                  â”‚   â”‚
â”‚  â”‚                                    â”‚   â”‚
â”‚  â”‚                                    â”‚   â”‚
â”‚  â”‚                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚  [Execute]                                 â”‚
â”‚                                            â”‚
â”‚  Results:                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ No results yet                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ‰§è¡Œå»ºè¡¨ SQL

å°†å®Œæ•´çš„å»ºè¡¨ SQL ç²˜è´´åˆ°ç¼–è¾‘å™¨ä¸­ï¼Œç‚¹å‡» **Execute**ã€‚

### 2.3 éªŒè¯è¡¨åˆ›å»º

ç‚¹å‡» **Tables** æ ‡ç­¾ï¼Œåº”è¯¥çœ‹åˆ°ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tables (3)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ users                                  â”‚
â”‚     Columns: 6                             â”‚
â”‚     Rows: 0                                â”‚
â”‚                                            â”‚
â”‚  ğŸ“‹ vocabulary                             â”‚
â”‚     Columns: 10                            â”‚
â”‚     Rows: 0                                â”‚
â”‚                                            â”‚
â”‚  ğŸ“‹ unknown_words                          â”‚
â”‚     Columns: 4                             â”‚
â”‚     Rows: 0                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

âœ… çœ‹åˆ° 3 ä¸ªè¡¨è¯´æ˜æˆåŠŸï¼

---

## ç¬¬ä¸‰æ­¥ï¼šä» GitHub éƒ¨ç½² Worker

### 3.1 åˆ›å»º Pages é¡¹ç›®

```
Workers & Pages
  â””â”€â”€ [Create application]
      â”œâ”€â”€ Workers (åˆ›å»ºæ–° Worker)
      â””â”€â”€ Pages (ä» Git éƒ¨ç½²) â† é€‰è¿™ä¸ª
```

### 3.2 è¿æ¥ GitHub

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Create a Pages project                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  Connect your Git provider                â”‚
â”‚                                            â”‚
â”‚  [Connect GitHub]                          â”‚
â”‚                                            â”‚
â”‚  Already connected?                        â”‚
â”‚  Select your repository below              â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ç‚¹å‡» **Connect GitHub** å¹¶æˆæƒã€‚

### 3.3 é€‰æ‹©ä»“åº“

æˆæƒåä¼šæ˜¾ç¤ºä»“åº“åˆ—è¡¨ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Select a repository                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Search repositories...                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ dreameutopia/Memorize-vocabulary   â”‚ â† â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚  [Select]                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

é€‰æ‹© `dreameutopia/Memorize-vocabulary`

### 3.4 é…ç½®æ„å»ºè®¾ç½®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Set up builds and deployments              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Project name *                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ cet6-vocabulary-backend            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚  Production branch                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ main                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚  Framework preset                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ None                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚  Root directory (optional)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ /backend                           â”‚ â† é‡è¦! â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚  Build command (optional)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚  Build output directory (optional)         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚  [Save and Deploy]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®é…ç½®**ï¼š
- Project name: `cet6-vocabulary-backend`ï¼ˆå¯è‡ªå®šä¹‰ï¼‰
- Production branch: `main`
- Root directory: `/backend` âš ï¸ **å¿…å¡«**
- å…¶ä»–ç•™ç©º

### 3.5 éƒ¨ç½²è¿›è¡Œä¸­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Deploying your site                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  â³ Initializing build environment         â”‚
â”‚  âœ… Cloning repository                     â”‚
â”‚  âœ… Installing dependencies                â”‚
â”‚  â³ Building application                   â”‚
â”‚  â³ Deploying to Cloudflare's edge         â”‚
â”‚                                            â”‚
â”‚  Estimated time: 1-2 minutes               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.6 é¦–æ¬¡éƒ¨ç½²ç»“æœ

âš ï¸ **é¢„æœŸç»“æœ**ï¼šé¦–æ¬¡éƒ¨ç½²å¯èƒ½æ˜¾ç¤ºæˆåŠŸï¼Œä½† API ä¼šæŠ¥é”™ï¼ˆå› ä¸ºè¿˜æ²¡ç»‘å®šæ•°æ®åº“ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Deployment successful                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Your site is live at:                     â”‚
â”‚  https://cet6-vocabulary-backend.pages.dev â”‚
â”‚                                            â”‚
â”‚  [View deployment] [View logs]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ç¬¬å››æ­¥ï¼šç»‘å®š D1 æ•°æ®åº“

### 4.1 è¿›å…¥é¡¹ç›®è®¾ç½®

```
é¡¹ç›®é¡µé¢é¡¶éƒ¨å¯¼èˆªï¼š
[Overview] [Deployments] [Analytics] [Settings] â† ç‚¹è¿™é‡Œ
```

### 4.2 æ‰¾åˆ° Functions è®¾ç½®

```
Settings å·¦ä¾§èœå•ï¼š
â”œâ”€â”€ General
â”œâ”€â”€ Builds & deployments
â”œâ”€â”€ Environment variables
â”œâ”€â”€ Functions                    â† ç‚¹è¿™é‡Œ
â”œâ”€â”€ Custom domains
â””â”€â”€ ...
```

### 4.3 æ·»åŠ  D1 ç»‘å®š

æ»šåŠ¨åˆ° **D1 database bindings** éƒ¨åˆ†ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ D1 database bindings                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  No bindings configured                    â”‚
â”‚                                            â”‚
â”‚  [Add binding]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ç‚¹å‡» **Add binding**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Add D1 database binding                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Variable name *                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ DB                                 â”‚ â† å¿…é¡»æ˜¯ DB! â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚  D1 database *                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ cet6_vocabulary                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚  [Cancel]  [Save]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é‡è¦**ï¼š
- Variable name: å¿…é¡»æ˜¯ `DB`ï¼ˆå¤§å†™ï¼‰
- D1 database: é€‰æ‹© `cet6_vocabulary`

### 4.4 ä¿å­˜å¹¶é‡æ–°éƒ¨ç½²

ä¿å­˜åï¼Œè¿”å› **Deployments** æ ‡ç­¾ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Production                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2025-10-27 12:34:56                       â”‚
â”‚  Deployed from main                        â”‚
â”‚  Status: Active                            â”‚
â”‚  â‹® [Retry deployment]    â† ç‚¹è¿™ä¸ª           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ç‚¹å‡» **Retry deployment** é‡æ–°éƒ¨ç½²ã€‚

---

## ç¬¬äº”æ­¥ï¼šå¯¼å…¥å•è¯æ•°æ®

### æ–¹å¼ 1: ä½¿ç”¨å‘½ä»¤è¡Œï¼ˆæ¨èï¼‰

åœ¨æœ¬åœ°ç»ˆç«¯æ‰§è¡Œï¼š

```bash
# Windows PowerShell
cd path\to\Memorize-vocabulary\backend
npm install
npx wrangler login
npm run generate-sql
npx wrangler d1 execute cet6_vocabulary --file=./data.sql
```

æ‰§è¡Œè¿‡ç¨‹ï¼š

```
PS > npx wrangler login
Opening browser for authentication...
âœ… Successfully logged in!

PS > npm run generate-sql
å¼€å§‹è¯»å– vocabulary.json...
è¯»å–åˆ° 5523 ä¸ªå•è¯
æ­£åœ¨ç”Ÿæˆ SQL è¯­å¥...
âœ… è½¬æ¢å®Œæˆï¼

PS > npx wrangler d1 execute cet6_vocabulary --file=./data.sql
ğŸŒ€ Executing on remote database cet6_vocabulary (a1b2c3d4-...)
ğŸŒ€ Inserting data...
âœ… Executed 56 commands in 3.2 seconds
```

### æ–¹å¼ 2: éªŒè¯æ•°æ®å¯¼å…¥

åœ¨ Cloudflare Dashboard çš„ D1 Console æ‰§è¡Œï¼š

```sql
SELECT COUNT(*) as total FROM vocabulary;
```

ç»“æœåº”è¯¥æ˜¾ç¤ºï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚ total â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 5523  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜
```

âœ… çœ‹åˆ° 5523 è¯´æ˜å¯¼å…¥æˆåŠŸï¼

---

## ç¬¬å…­æ­¥ï¼šéªŒè¯éƒ¨ç½²

### 6.1 è·å– API åœ°å€

åœ¨é¡¹ç›®é¡µé¢é¡¶éƒ¨å¯ä»¥çœ‹åˆ°ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ cet6-vocabulary-backend                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŒ https://cet6-vocabulary-backend.pages.dev â”‚
â”‚                                            â”‚
â”‚  Last deployed: 2 minutes ago              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 æµ‹è¯• API

ä½¿ç”¨æµè§ˆå™¨æˆ–å‘½ä»¤è¡Œæµ‹è¯•ï¼š

**æµ‹è¯• 1: æµè§ˆå™¨è®¿é—®**
```
https://cet6-vocabulary-backend.pages.dev/api/user/register
```

ï¼ˆä¼šè¿”å› 405 é”™è¯¯ï¼Œå› ä¸ºè¿™æ˜¯ POST æ¥å£ï¼‰

**æµ‹è¯• 2: ä½¿ç”¨ PowerShell**
```powershell
$body = @{
    deviceId = "test-device-123"
} | ConvertTo-Json

$result = Invoke-RestMethod -Uri "https://cet6-vocabulary-backend.pages.dev/api/user/register" -Method POST -Body $body -ContentType "application/json"

Write-Host "User ID: $($result.data.userId)"
```

**æµ‹è¯• 3: ä½¿ç”¨ curl**
```bash
curl -X POST https://cet6-vocabulary-backend.pages.dev/api/user/register \
  -H "Content-Type: application/json" \
  -d '{"deviceId":"test-123"}'
```

### 6.3 é¢„æœŸå“åº”

```json
{
  "success": true,
  "data": {
    "userId": "550e8400-e29b-41d4-a716-446655440000"
  }
}
```

âœ… çœ‹åˆ°è¿™ä¸ªå“åº”è¯´æ˜éƒ¨ç½²æˆåŠŸï¼

---

## ç›‘æ§é¢æ¿æ¦‚è§ˆ

### Analytics é¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Analytics - Last 24 hours                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  ğŸ“Š Requests                               â”‚
â”‚      1,234 requests                        â”‚
â”‚      â–â–‚â–ƒâ–…â–†â–‡â–ˆâ–‡â–†â–…â–ƒâ–‚â–                        â”‚
â”‚                                            â”‚
â”‚  âš¡ Response Time                          â”‚
â”‚      avg: 45ms  p95: 120ms                â”‚
â”‚                                            â”‚
â”‚  âŒ Error Rate                             â”‚
â”‚      0.2% (2 errors)                       â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Logs é¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Logs - Real-time stream                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Begin log stream]                        â”‚
â”‚                                            â”‚
â”‚  2025-10-27 12:45:23 INFO                  â”‚
â”‚  GET /api/user/stats?userId=xxx            â”‚
â”‚  â†’ 200 OK (32ms)                           â”‚
â”‚                                            â”‚
â”‚  2025-10-27 12:45:25 INFO                  â”‚
â”‚  POST /api/words/submit                    â”‚
â”‚  â†’ 200 OK (18ms)                           â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… éƒ¨ç½²å®Œæˆæ£€æŸ¥æ¸…å•

```
âœ… Step 1: D1 æ•°æ®åº“å·²åˆ›å»º
   â””â”€ Database ID å·²ä¿å­˜

âœ… Step 2: è¡¨ç»“æ„å·²åˆå§‹åŒ–
   â”œâ”€ users è¡¨å·²åˆ›å»º
   â”œâ”€ vocabulary è¡¨å·²åˆ›å»º
   â””â”€ unknown_words è¡¨å·²åˆ›å»º

âœ… Step 3: Worker å·²éƒ¨ç½²
   â””â”€ ä» GitHub è‡ªåŠ¨éƒ¨ç½²

âœ… Step 4: D1 æ•°æ®åº“å·²ç»‘å®š
   â””â”€ å˜é‡å: DB

âœ… Step 5: å•è¯æ•°æ®å·²å¯¼å…¥
   â””â”€ 5523 ä¸ªå•è¯

âœ… Step 6: API æµ‹è¯•é€šè¿‡
   â”œâ”€ æ³¨å†Œæ¥å£æ­£å¸¸
   â”œâ”€ ç»Ÿè®¡æ¥å£æ­£å¸¸
   â””â”€ å•è¯æ¥å£æ­£å¸¸
```

---

## ğŸ‰ æ­å–œï¼éƒ¨ç½²æˆåŠŸï¼

ä½ çš„ API åœ°å€ï¼š
```
https://cet6-vocabulary-backend.pages.dev
```

ç°åœ¨å¯ä»¥ï¼š
1. å¼€å‘å‰ç«¯åº”ç”¨
2. é…ç½®è‡ªå®šä¹‰åŸŸå
3. å¯ç”¨ç›‘æ§å’Œå‘Šè­¦
4. åˆ†äº«ç»™ç”¨æˆ·ä½¿ç”¨

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

- ğŸ“– [å®Œæ•´éƒ¨ç½²æ–‡æ¡£](./CLOUDFLARE_DEPLOY.md)
- ğŸ“– [API æ¥å£æ–‡æ¡£](../API.md)
- ğŸŒ [Cloudflare æ–‡æ¡£](https://developers.cloudflare.com/)
- ğŸ’¬ [GitHub Issues](https://github.com/dreameutopia/Memorize-vocabulary/issues)
